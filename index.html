<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AlbanÃ©s Pro â€” A1â€“C1</title>
  <meta name="description" content="Curso de albanÃ©s por niveles A1â€“C1 con ejercicios visuales, minitests, flashcards, monedas y recompensas." />
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="stylesheet" href="styles.css" />
  <link rel="icon" href="img/icon-192.png" />
  <meta name="theme-color" content="#0ea5e9" />
  <script defer src="app.js"></script>
</head>
<body>
  <header class="app-header">
    <div class="brand">
      <h1>AlbanÃ©s Pro</h1>
      <span class="badge">A1â€“C1</span>
    </div>
    <nav class="navbar">
      <button class="nav-btn" data-view="levels">Niveles</button>
      <button class="nav-btn" data-view="practice">PrÃ¡ctica</button>
      <button class="nav-btn" data-view="minitests">Mini-tests</button>
      <button class="nav-btn" data-view="flashcards">Flashcards</button>
      <button class="nav-btn" data-view="rewards">Recompensas</button>
      <button class="nav-btn" data-view="profile">Perfil</button>
      <div class="coins"><span id="coinCount">0</span> ðŸª™</div>
    </nav>
  </header>

  <main>
    <section id="view-levels" class="view active">
      <h2>Selecciona nivel</h2>
      <div id="levelGrid" class="grid"></div>
    </section>

    <section id="view-practice" class="view">
      <div class="panel">
        <h2>PrÃ¡ctica</h2>
        <div class="tabs">
          <button class="tab active" data-mode="image">ImÃ¡genes â†’ Palabra</button>
          <button class="tab" data-mode="phrase">ES/PL â†’ Frase SQ</button>
          <button class="tab" data-mode="builder">Constructor de frase</button>
        </div>
        <div id="exerciseRoot"></div>
        <div class="exercise-footer">
          <div class="progress small"><div id="exProg" class="progress-bar"></div></div>
          <button id="btnSkip" class="btn secondary">Saltar</button>
        </div>
      </div>
    </section>

    <section id="view-minitests" class="view">
      <div class="panel">
        <h2>Mini-tests por tema</h2>
        <div id="testGrid" class="grid"></div>
        <div id="testRoot"></div>
      </div>
    </section>

    <section id="view-flashcards" class="view">
      <div class="panel">
        <h2>Flashcards (Leitner)</h2>
        <div class="flash-wrap">
          <div id="flashFront" class="flash">â€”</div>
          <div class="flash-actions">
            <button id="btnShow" class="btn">Mostrar</button>
            <button id="btnWrong" class="btn bad">FallÃ©</button>
            <button id="btnRight" class="btn ok">RecordÃ©</button>
            <button id="btnAudio" class="btn secondary">Audio</button>
          </div>
          <div class="muted" id="flashInfo"></div>
        </div>
      </div>
    </section>

    <section id="view-rewards" class="view">
      <div class="panel">
        <h2>Recompensas</h2>
        <p>Canjea monedas por premios.</p>
        <ul id="rewardShop" class="shop"></ul>
        <h3>Historial</h3>
        <ul id="rewardHistory" class="history-list"></ul>
      </div>
    </section>

    <section id="view-profile" class="view">
      <div class="panel">
        <h2>Perfil</h2>
        <p>Nivel activo: <strong id="activeLevel">A1</strong></p>
        <button id="btnExport" class="btn">Exportar progreso</button>
        <input type="file" id="fileImport" accept="application/json" />
        <p class="muted">AÃ±ade esta web a tu pantalla de inicio para usarla como App.</p>
      </div>
    </section>
  </main>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('sw.js');
      });
    }
  </script>
</body>
</html>
