:root{
  --bg:#f8fafc; --panel:#ffffff; --text:#0f172a; --muted:#64748b; --primary:#0ea5e9; --accent:#10b981; --danger:#ef4444; --gold:#f59e0b;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif}
.app-header{position:sticky;top:0;background:var(--panel);border-bottom:1px solid #e2e8f0;z-index:10}
.brand{display:flex;align-items:center;gap:8px;padding:10px 16px}
.brand h1{font-size:20px;margin:0}
.badge{background:var(--primary);color:#fff;border-radius:999px;padding:2px 8px;font-size:12px}
.navbar{display:flex;gap:8px;flex-wrap:wrap;align-items:center;padding:8px 16px}
.nav-btn{padding:8px 12px;border:1px solid #e2e8f0;background:#fff;border-radius:10px;cursor:pointer}
.nav-btn:focus{outline:2px solid var(--primary)}
.coins{margin-left:auto;display:flex;align-items:center;gap:6px;font-weight:600;color:var(--gold)}
main{padding:16px;max-width:1100px;margin-inline:auto}
.view{display:none}
.view.active{display:block}
.panel{background:var(--panel);border:1px solid #e2e8f0;border-radius:16px;padding:16px;box-shadow:0 2px 12px rgba(0,0,0,.04)}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:12px}
.level-card{border:1px solid #e2e8f0;border-radius:14px;padding:14px;background:#fff;display:flex;flex-direction:column;gap:8px}
.level-card.locked{opacity:.6}
.progress{height:12px;background:#e2e8f0;border-radius:10px;overflow:hidden}
.progress.small{height:8px}
.progress-bar{height:100%;background:var(--accent);border-radius:10px;transition:width .3s}
.tabs{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:10px}
.tab{padding:8px 12px;border:none;border-radius:10px;background:#e2e8f0;cursor:pointer}
.tab.active{background:var(--primary);color:#fff}
#exerciseRoot{min-height:260px}
.exercise{display:grid;gap:10px}
.options{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:10px}
.card{border:1px solid #e2e8f0;border-radius:12px;background:#fff;overflow:hidden}
.card img{display:block;width:100%;height:120px;object-fit:cover}
.card .label{padding:8px;text-align:center}
.btn{padding:10px 14px;border:none;border-radius:12px;background:var(--primary);color:#fff;cursor:pointer}
.btn.secondary{background:#111827}
.bad{background:var(--danger)!important}
.ok{background:var(--accent)!important}
.flash-wrap{display:grid;gap:10px}
.flash{border:2px dashed #cbd5e1;border-radius:16px;min-height:140px;display:flex;align-items:center;justify-content:center;font-size:22px;background:#fff;padding:10px;white-space:pre-line}
.flash-actions{display:flex;gap:8px;flex-wrap:wrap}
.shop,.history-list{list-style:none;padding:0;display:grid;gap:10px}
.shop li{display:flex;justify-content:space-between;align-items:center;border:1px solid #e2e8f0;border-radius:12px;padding:10px;background:#fff}
.toast{position:fixed;bottom:14px;left:50%;transform:translateX(-50%);background:#111827;color:#fff;padding:10px 14px;border-radius:10px;opacity:0;pointer-events:none;transition:opacity .2s}
.toast.show{opacity:1}
.muted{color:var(--muted);font-size:14px}
.drag-area{display:flex;gap:8px;flex-wrap:wrap;padding:8px;background:#fff;border:1px dashed #cbd5e1;border-radius:12px;min-height:80px}
.chip{display:inline-block;background:#e2e8f0;border-radius:999px;padding:6px 10px;cursor:grab}
